<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Universe of Us | Javidan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@300;400;600&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <style>
        html, body { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #fff1f2; font-family: 'Inter', sans-serif; }
        
        /* Master Container */
        .scroll-container { 
            height: 100vh; overflow-y: scroll; scroll-snap-type: y mandatory; 
            scroll-behavior: smooth; display: none; /* Hidden until unlock */
        }
        section { 
            height: 100vh; width: 100%; scroll-snap-align: start; 
            position: relative; display: flex; align-items: center; justify-content: center; 
        }

        /* Glass Vault Lock Screen */
        #gatekeeper { 
            position: fixed; inset: 0; z-index: 100; 
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            display: flex; align-items: center; justify-content: center; 
        }
        .lock-card {
            background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.5); padding: 3rem; border-radius: 3rem;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.1); width: 90%; max-width: 400px;
        }

        /* Memories Track */
        .memories-track {
            display: flex; gap: 2rem; overflow-x: auto; padding: 2rem; width: 100%;
            scroll-snap-type: x mandatory; scrollbar-width: none;
        }
        .memories-track::-webkit-scrollbar { display: none; }
        .memory-card {
            flex: 0 0 300px; height: 400px; scroll-snap-align: center;
            border-radius: 2rem; background: white; border: 4px solid white;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
        }

        /* Interactive Layers */
        .romantic-font { font-family: 'Pacifico', cursive; }
        #scratch-canvas { position: absolute; top: 0; left: 0; z-index: 20; touch-action: none; }
        .gravity-heart { position: absolute; pointer-events: none; font-size: 2rem; transition: transform 0.1s; }
        #constellation-canvas { position: absolute; inset: 0; cursor: crosshair; }
        .odometer { font-variant-numeric: tabular-nums; }

        /* --- 3D VAULT LETTER STYLES --- */
        .letter-scene { perspective: 1000px; }
        .parchment {
            width: 320px; min-height: 400px; background: #fdf6e3; padding: 30px;
            box-shadow: 10px 10px 30px rgba(0,0,0,0.15); border-radius: 2px;
            transform-style: preserve-3d; transition: transform 0.1s ease-out, all 0.8s ease;
            font-family: 'Dancing Script', cursive; position: relative;
        }
        .wax-seal {
            width: 60px; height: 60px; background: #b91c1c; border-radius: 50%;
            position: absolute; bottom: -30px; left: 50%; transform: translateX(-50%);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3); display: flex; align-items: center;
            justify-content: center; cursor: pointer; color: white; border: 2px solid #991b1b;
            z-index: 10; transition: transform 0.3s;
        }
        .wax-seal:hover { transform: translateX(-50%) scale(1.1); }
        .letter-content { opacity: 0; transition: opacity 1s ease 0.5s; font-size: 1.2rem; line-height: 1.6; }
        .letter-revealed .letter-content { opacity: 1; }
        .letter-revealed .wax-seal { display: none; }
        .letter-revealed .parchment { width: 90vw; max-width: 600px; transform: rotate(0) !important; padding: 50px; }
    </style>
</head>
<body>

    <div id="gatekeeper">
        <div class="lock-card text-center">
            <div class="text-4xl mb-4">üíé</div>
            <h1 class="romantic-font text-4xl text-rose-600 mb-2">Memory Vault</h1>
            <p class="text-rose-400 text-sm mb-8">Verification Required</p>
            <input type="password" id="entry-pin" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="8" 
                class="text-center w-full bg-white/50 border-2 border-rose-200 py-3 rounded-2xl text-xl mb-4 outline-none focus:border-rose-400 tracking-widest">
            <button onclick="unlockVault()" class="w-full bg-rose-500 text-white font-bold py-3 rounded-2xl hover:bg-rose-600 transition shadow-lg">Unlock Universe</button>
        </div>
    </div>

    <div class="scroll-container" id="main-universe">

        <section class="bg-rose-100">
            <div class="text-center">
                <h1 class="romantic-font text-7xl text-rose-600 animate-pulse">It's Always Been You</h1>
                <p class="mt-4 text-rose-400 italic tracking-widest uppercase">Scroll to begin our journey</p>
            </div>
        </section>

        <section class="bg-white">
            <div class="max-w-4xl px-6 text-center">
                <h2 class="romantic-font text-5xl text-rose-500 mb-12">The World Since Us</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="p-10 bg-rose-50 rounded-[3rem] border border-rose-100 shadow-inner">
                        <p class="text-xs uppercase text-rose-400 mb-2 font-bold">Time Spent Growing</p>
                        <p id="timer" class="text-3xl font-semibold text-rose-600 odometer">0d 0h 0m 0s</p>
                    </div>
                    <div class="p-10 bg-pink-50 rounded-[3rem] border border-pink-100 shadow-inner">
                        <p class="text-xs uppercase text-pink-400 mb-2 font-bold">Beats My Heart Skipped</p>
                        <p id="heartbeats" class="text-3xl font-semibold text-pink-600 odometer">0</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-rose-50">
            <div class="w-full text-center">
                <h2 class="romantic-font text-5xl text-rose-600 mb-8">Memories shared</h2>
                <div class="memories-track px-10">
                    <div class="memory-card bg-rose-100 flex flex-col">
                        <div class="flex-grow flex items-center justify-center text-7xl">üì∏</div>
                        <div class="bg-white p-6 rounded-b-[1.7rem] text-left">
                            <h4 class="font-bold text-rose-600">The Beginning</h4>
                            <p class="text-sm text-gray-500 italic font-light leading-snug">The world turned vivid the moment you arrived.</p>
                        </div>
                    </div>
                    <div class="memory-card bg-pink-100 flex flex-col">
                        <div class="flex-grow flex items-center justify-center text-7xl">‚úàÔ∏è</div>
                        <div class="bg-white p-6 rounded-b-[1.7rem] text-left">
                            <h4 class="font-bold text-rose-600">The Adventure</h4>
                            <p class="text-sm text-gray-500 italic font-light leading-snug">To every road trip and late night laugh.</p>
                        </div>
                    </div>
                    <div class="memory-card bg-amber-50 flex flex-col">
                        <div class="flex-grow flex items-center justify-center text-7xl">üè°</div>
                        <div class="bg-white p-6 rounded-b-[1.7rem] text-left">
                            <h4 class="font-bold text-rose-600">The Home</h4>
                            <p class="text-sm text-gray-500 italic font-light leading-snug">You are my safe space, my peace.</p>
                        </div>
                    </div>
                </div>
                <p class="mt-8 text-gray-300 text-xs italic">‚Üê Swipe to browse history ‚Üí</p>
            </div>
        </section>

        <section class="bg-slate-900">
            <div class="absolute inset-0 z-10 flex items-center justify-center bg-rose-50 p-8 text-center">
                <div class="max-w-md">
                    <h3 class="romantic-font text-4xl text-rose-600 mb-6">Beneath the surface</h3>
                    <p class="text-xl italic">"I will spend my forever proving how much you mean to me."</p>
                    <p class="mt-8 text-2xl font-bold text-rose-500">- Javidan</p>
                </div>
            </div>
            <canvas id="scratch-canvas"></canvas>
            <div class="absolute top-10 w-full z-30 pointer-events-none text-center">
                <span class="bg-white/10 text-white px-6 py-2 rounded-full text-xs uppercase backdrop-blur-md">Scratch away the day...</span>
            </div>
        </section>

        <section class="bg-white overflow-hidden">
            <div class="z-10 text-center pointer-events-none">
                <h2 class="romantic-font text-5xl text-rose-500">Gravitational Pull</h2>
                <p class="text-gray-400 mt-2">Everything of mine orbits around you</p>
            </div>
            <div class="gravity-heart">‚ù§Ô∏è</div><div class="gravity-heart">üíñ</div><div class="gravity-heart">üå∏</div>
            <div class="gravity-heart">‚ú®</div><div class="gravity-heart">ü•∞</div><div class="gravity-heart">üåπ</div>
        </section>

        <section class="bg-slate-950">
            <canvas id="constellation-canvas"></canvas>
            <div class="z-20 text-center pointer-events-none">
                <h2 class="romantic-font text-4xl text-white opacity-40">Connect the stars</h2>
                <p id="hint" class="text-slate-500 text-xs mt-2 uppercase tracking-widest">Move your mouse to reveal the connection</p>
            </div>
            <div id="star-reveal" class="hidden z-30 romantic-font text-6xl text-white animate-bounce">I LOVE YOU</div>
        </section>

        <section class="bg-[#fdf6e3]/30" id="letter-section">
            <div class="letter-scene" id="scene">
                <div class="parchment" id="parchment">
                    <div class="letter-content text-rose-900 text-center">
                        <p class="text-3xl mb-4">My Dearest,</p>
                        <p>I wanted to create a world where time stands still just for us. Looking at the distance we've traveled and the memories we've made, I am overwhelmed by how lucky I am to call you mine. You aren't just a part of my life; you are the reason my life is beautiful.</p>
                        <p class="mt-6">Thank you for being you.</p>
                        <p class="mt-6 text-2xl">Forever yours,<br>Javidan</p>
                    </div>
                    <div class="wax-seal" onclick="revealLetter()">‚ù§</div>
                </div>
            </div>
        </section>

    </div>

    <script>
        // MASTER CONFIG
        const passcode = "03012025";
        const anniversary = new Date('2025-01-03T00:00:00'); 

        function unlockVault() {
            if(document.getElementById('entry-pin').value === passcode) {
                document.getElementById('gatekeeper').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('gatekeeper').style.display = 'none';
                    document.getElementById('main-universe').style.display = 'block';
                    confetti(); initCan(); initStars(); setInterval(updateStats, 1000);
                }, 800);
            } else { alert("Verification Failed. Hint: First 'I Love You'."); }
        }

        // Stats Logic
        function updateStats() {
            const now = new Date();
            let d = now - anniversary;
            if (d < 0) d = 0;

            const days = Math.floor(d/86400000);
            const hours = Math.floor((d/3600000)%24);
            const mins = Math.floor((d/60000)%60);
            const secs = Math.floor((d/1000)%60);

            document.getElementById('timer').innerText = `${days}d ${hours}h ${mins}m ${secs}s`;
            const beats = Math.floor((d/60000)*75);
            document.getElementById('heartbeats').innerText = beats.toLocaleString();
        }

        // Scratch Logic
        const can = document.getElementById('scratch-canvas'), ctx = can.getContext('2d');
        function initCan() { can.width = innerWidth; can.height = innerHeight; ctx.fillStyle = '#1e293b'; ctx.fillRect(0,0,can.width,can.height); ctx.globalCompositeOperation = 'destination-out'; }
        
        // Input Handling
        window.addEventListener('mousemove', (e) => {
            // Scratch functionality
            if(ctx) { ctx.beginPath(); ctx.arc(e.clientX, e.clientY, 40, 0, 7); ctx.fill(); }

            // Gravity Hearts Logic
            const hearts = document.querySelectorAll('.gravity-heart');
            hearts.forEach((h, i) => {
                setTimeout(() => { h.style.left = `${e.clientX}px`; h.style.top = `${e.clientY}px`; h.style.transform = `translate(-50%, -50%)`; }, (i + 1) * 20);
            });

            // 3D Letter Tilt Logic
            const parchment = document.getElementById('parchment');
            if(parchment && !parchment.classList.contains('letter-revealed')) {
                const xAxis = (window.innerWidth / 2 - e.pageX) / 15;
                const yAxis = (window.innerHeight / 2 - e.pageY) / 15;
                parchment.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
            }
        });

        function revealLetter() {
            document.getElementById('parchment').classList.add('letter-revealed');
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.8 } });
        }

        // Constellation Logic
        const scan = document.getElementById('constellation-canvas'), sctx = scan.getContext('2d');
        let stars = [], foundStars = 0;
        function initStars() {
            scan.width = innerWidth; scan.height = innerHeight;
            for(let i=0; i<15; i++) stars.push({ x: Math.random()*innerWidth, y: Math.random()*innerHeight, found: false });
            drawStars();
        }
        function drawStars() {
            sctx.clearRect(0,0,innerWidth,innerHeight); sctx.fillStyle = "white";
            stars.forEach(s => { sctx.beginPath(); sctx.arc(s.x, s.y, 2, 0, 7); sctx.fill(); });
        }
        scan.onmousemove = (e) => {
            stars.forEach(s => {
                if(Math.hypot(s.x - e.clientX, s.y - e.clientY) < 60 && !s.found) {
                    s.found = true; foundStars++;
                    if(foundStars >= 10) document.getElementById('star-reveal').classList.remove('hidden');
                }
            });
            drawStars(); sctx.strokeStyle = "rgba(255,255,255,0.1)";
            stars.filter(s => s.found).forEach(s => { sctx.beginPath(); sctx.moveTo(s.x, s.y); sctx.lineTo(e.clientX, e.clientY); sctx.stroke(); });
        };
        
        window.onresize = () => { initCan(); initStars(); };
    </script>
</body>
</html>
